<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Commands :: Kakoune Docs</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../..">Kakoune Docs</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="Kakoune" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../../index.html">Kakoune</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../index.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/commands.html">Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/expansions.html">Expansions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/execeval.html">Exec Eval</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/scopes.html">Scopes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/faces.html">Faces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/buffers.html">Buffers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/registers.html">Registers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/mapping.html">Mapping</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/hooks.html">Hooks</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/command-parsing.html">Command Parsing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/keys.html">Keys</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/regex.html">Regex</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/options.html">Options</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/highlighters.html">Highlighters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/modes.html">Modes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/keymap.html">KEYMAP</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/pages/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/design.html">Design</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/coding-style.html">Coding Style</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/writing_scripts.html">Writing Scripts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/json_ui.html">JSON UI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/autoedit.html">Autoedit</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../doc/interfacing.html">Interfacing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../rc/tools/lint.html">Linting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../rc/tools/autorestore.html">Autorestore</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../rc/tools/doc.html">Doc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../test/tests.html">Tests</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../VIMTOKAK.html">Vi(m) to Kakoune</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Kakoune</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../../index.html">Kakoune</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">Kakoune</a></li>
    <li><a href="commands.html">Commands</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///home/igor/personal/kakoune/modules/ROOT/pages/share/kak/doc/commands.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Commands</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Some commands take an exclamation mark (<strong>!</strong>), which can be used to force
the execution of the command (i.e. to quit a modified buffer, the
command <strong>q!</strong> has to be used). Aliases are mentioned below each command.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>doc</strong> &lt;topic&gt;</dt>
<dd>
<p><strong>alias</strong> help<br>
display documentation about a topic. The completion list displays the
available topics</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="files-and-buffers"><a class="anchor" href="#files-and-buffers"></a><a class="link" href="#files-and-buffers">1. Files and Buffers</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>For the following <strong>write</strong> commands, the <strong>-sync</strong> switch forces the synchronization
of the file onto the filesystem</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>arrange-buffers</strong> &lt;buffer&gt;&#8230;&#8203;</dt>
<dd>
<p>Reorder the buffers in the buffers list.
The named buffers will be moved to the front of the buffer list, in the order
given. Buffers that do not appear in the parameters will remain at the
end of the list, keeping their current order.</p>
</dd>
<dt class="hdlist1"><strong>change-directory</strong> [&lt;directory&gt;]</dt>
<dd>
<p><strong>alias</strong> cd<br>
change the current directory to <strong>directory</strong>, or the home directory if
unspecified</p>
</dd>
<dt class="hdlist1"><strong>edit[!]</strong> [&lt;switches&gt;] &lt;filename&gt; [&lt;line&gt; [&lt;column&gt;]]</dt>
<dd>
<p><strong>alias</strong> e<br>
open buffer on file, go to given line and column. If file is already
opened, just switch to this file. Use edit! to force reloading</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-debug</strong></dt>
<dd>
<p>The new buffer (if any) will be created as a debug buffer.
(See <a href="buffers.html#debug-buffers" class="xref page"><code>:doc buffers debug-buffers</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>-existing</strong></dt>
<dd>
<p>If the named file does not exist, fail instead of creating a new buffer.</p>
</dd>
<dt class="hdlist1"><strong>-readonly</strong></dt>
<dd>
<p>The new buffer (if any) will be set read-only.</p>
</dd>
<dt class="hdlist1"><strong>-fifo</strong> &lt;fifoname&gt;</dt>
<dd>
<p>Creates a new scratch buffer named &lt;filename&gt;, and continually appends
data from the fifo (named pipe) &lt;fifoname&gt; as it arrives.
(See <a href="buffers.html#fifo-buffers" class="xref page"><code>:doc buffers fifo-buffers</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>-scratch</strong></dt>
<dd>
<p>Creates a new buffer named &lt;filename&gt;, which doesn&#8217;t correspond to any
file on disk. If no filename is given, the buffer name will be
generated based on format <code>*scratch-$ID\*</code>, where <code>$ID</code> is an
integer automatically incremented for new buffers.
(See <a href="buffers.html#scratch-buffers" class="xref page"><code>:doc buffers scratch-buffers</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>-scroll</strong></dt>
<dd>
<p>If used with <code>-fifo</code>, when new data arrives Kakoune will scroll the
buffer down to make the new data visible.
Otherwise, does nothing.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>write[!]</strong> [-force] [-sync] [-method &lt;writemethod&gt;] [&lt;filename&gt;]</dt>
<dd>
<p><strong>alias</strong> w<br>
write buffer to &lt;filename&gt; or use its name if filename is not
given. If the file is write-protected, its permissions are temporarily
changed to allow saving the buffer and restored afterwards when
the write! command is used.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-force</strong></dt>
<dd>
<p>Equivalent to <code>!</code>, allow overwiting existing files if <code>&lt;filename&gt;</code>
is given and set permissions temporarily if necessary.</p>
</dd>
<dt class="hdlist1"><strong>-sync</strong></dt>
<dd>
<p>Synchronise the filesystem after the write</p>
</dd>
<dt class="hdlist1"><strong>-method &lt;writemethod&gt;</strong></dt>
<dd>
<p>Enforce write method instead of relying on the <code>writemethod</code> option</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>replace</code></dt>
<dd>
<p>Write to a temporary file then rename to the target file so that
the modification appears atomically.</p>
</dd>
<dt class="hdlist1"><code>overwrite</code></dt>
<dd>
<p>Open the existing file and overwrite its content with the new
content.</p>
<div class="literalblock">
<div class="content">
<pre>(See xref:./options.adoc#builtin-options[`:doc options builtin-options`])</pre>
</div>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>write-all</strong> [-sync] [-method &lt;writemethod&gt;]</dt>
<dd>
<p><strong>alias</strong> wa<br>
write all changed buffers that are associated with a file</p>
</dd>
<dt class="hdlist1"><strong>quit[!]</strong> [&lt;exit status&gt;]</dt>
<dd>
<p><strong>alias</strong> q<br>
exit Kakoune, use quit! to force quitting even if there is some
unsaved buffer remaining. If specified, the client exit status
will be set to &lt;exit status&gt;</p>
</dd>
<dt class="hdlist1"><strong>write-quit[!]</strong> [-sync] [-method &lt;writemethod&gt;] [&lt;exit status&gt;]</dt>
<dd>
<p><strong>alias</strong> wq<br>
write current buffer and quit current client. If specified, the client
exit status will be set to &lt;exit status&gt;</p>
</dd>
<dt class="hdlist1"><strong>write-all-quit</strong> [-sync] [-method &lt;writemethod&gt;] [&lt;exit status&gt;]</dt>
<dd>
<p><strong>alias</strong> waq<br>
write all buffers and quit. If specified, the client exit status
will be set to &lt;exit status&gt;</p>
</dd>
<dt class="hdlist1"><strong>buffer</strong> &lt;name&gt;</dt>
<dd>
<p><strong>alias</strong> b<br>
switch to buffer &lt;name&gt;</p>
</dd>
<dt class="hdlist1"><strong>buffer-next</strong></dt>
<dd>
<p><strong>alias</strong> bn<br>
switch to the next buffer.
Debug buffers are skipped.
(See <a href="buffers.html#debug-buffers" class="xref page"><code>:doc buffers debug-buffers</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>buffer-previous</strong></dt>
<dd>
<p><strong>alias</strong> bp<br>
switch to the previous buffer.
Debug buffers are skipped.
(See <a href="buffers.html#debug-buffers" class="xref page"><code>:doc buffers debug-buffers</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>delete-buffer[!]</strong> [&lt;name&gt;]</dt>
<dd>
<p><strong>alias</strong> db<br>
delete current buffer or the buffer &lt;name&gt; if specified</p>
</dd>
<dt class="hdlist1"><strong>rename-buffer</strong> [-file|-scratch] &lt;name&gt;</dt>
<dd>
<p>set current buffer name, if <strong>-scratch</strong> or <strong>-file</strong> is given, ensure
the buffer is set to the corresponding type.</p>
</dd>
<dt class="hdlist1"><strong>source</strong> &lt;filename&gt; &lt;param&gt;&#8230;&#8203;</dt>
<dd>
<p>execute commands in &lt;filename&gt;
parameters are available in the sourced script as <code>%arg{0}</code>, <code>%arg{1}</code>, â€¦</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clients-and-sessions"><a class="anchor" href="#clients-and-sessions"></a><a class="link" href="#clients-and-sessions">2. Clients and Sessions</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>rename-client</strong> &lt;name&gt;</dt>
<dd>
<p>set current client name</p>
</dd>
<dt class="hdlist1"><strong>rename-session</strong> &lt;name&gt;</dt>
<dd>
<p>set current session name</p>
</dd>
<dt class="hdlist1"><strong>kill[!]</strong> [&lt;exit status&gt;]</dt>
<dd>
<p>terminate the current session, all the clients as well as the server.
If specified, the server and clients exit status will be set to &lt;exit status&gt;</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="options"><a class="anchor" href="#options"></a><a class="link" href="#options">3. Options</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>declare-option</strong> [&lt;switches&gt;] &lt;type&gt; &lt;name&gt; [&lt;value&gt;]</dt>
<dd>
<p><strong>alias</strong> decl<br>
declare a new option, the -hidden switch hides the option in completion
suggestions (See <a href="options.html#declare-option" class="xref page"><code>:doc options declare-option</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>set-option</strong> [&lt;switches&gt;] &lt;scope&gt; &lt;name&gt; &lt;value&gt;</dt>
<dd>
<p><strong>alias</strong> set<br>
change the value of an option in <strong>scope</strong>
(See <a href="options.html#set-option" class="xref page"><code>:doc options set-option</code></a>
and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>unset-option</strong> &lt;scope&gt; &lt;name&gt;</dt>
<dd>
<p><strong>alias</strong> unset<br>
unset the value of an option in <strong>scope</strong>, so the value from an outer scope
is used
(See <a href="options.html#unset-option" class="xref page"><code>:doc options unset-option</code></a>
and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>update-option</strong> &lt;scope&gt; &lt;name&gt;</dt>
<dd>
<p>update the value of an option if its type supports that operation
(See <a href="options.html#update-option" class="xref page"><code>:doc options update-option</code></a>
and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="commands-and-keys"><a class="anchor" href="#commands-and-keys"></a><a class="link" href="#commands-and-keys">4. Commands and Keys</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>define-command</strong> [&lt;switches&gt;] &lt;name&gt; &lt;command&gt;</dt>
<dd>
<p><strong>alias</strong> def<br>
define a new command (See <a href="#declaring-new-commands">Declaring new commands</a>)</p>
</dd>
<dt class="hdlist1"><strong>alias</strong> &lt;scope&gt; &lt;name&gt; &lt;command&gt;</dt>
<dd>
<p>define a new alias named <strong>name</strong> in <strong>scope</strong>
(See <a href="#aliases">Using aliases</a> and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>complete-command</strong> [&lt;switches&gt;] &lt;name&gt; &lt;type&gt; [&lt;param&gt;]</dt>
<dd>
<p><strong>alias</strong> compl<br>
configure how a command completion works
(See <a href="#configuring-command-completion">Configuring command completion</a>)</p>
</dd>
<dt class="hdlist1"><strong>unalias</strong> &lt;scope&gt; &lt;name&gt; [&lt;command&gt;]</dt>
<dd>
<p>remove an alias if its current value is the same as the one passed
as an optional parameter, remove it unconditionally otherwise
(See <a href="#aliases">Using aliases</a> and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>evaluate-commands</strong> [&lt;switches&gt;] &lt;command&gt; &#8230;&#8203;</dt>
<dd>
<p><strong>alias</strong> eval<br>
evaluate commands, as if they were entered in the command prompt
(See <a href="execeval.html" class="xref page"><code>:doc execeval</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>execute-keys</strong> [&lt;switches&gt;] &lt;key&gt; &#8230;&#8203;</dt>
<dd>
<p><strong>alias</strong> exec<br>
execute a series of keys, as if they were hit (See <a href="execeval.html" class="xref page"><code>:doc execeval</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>map</strong> [&lt;switches&gt;] &lt;scope&gt; &lt;mode&gt; &lt;key&gt; &lt;keys&gt;</dt>
<dd>
<p>bind a list of keys to a combination (See <a href="mapping.html" class="xref page"><code>:doc mapping</code></a>
and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>unmap</strong> &lt;scope&gt; &lt;mode&gt; &lt;key&gt; [&lt;expected&gt;]</dt>
<dd>
<p>unbind a key combination (See <a href="mapping.html" class="xref page"><code>:doc mapping</code></a>
and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>declare-user-mode</strong> &lt;name&gt;</dt>
<dd>
<p>declare a new user keymap mode</p>
</dd>
<dt class="hdlist1"><strong>enter-user-mode</strong> [&lt;switches&gt;] &lt;name&gt;</dt>
<dd>
<p>enable &lt;name&gt; keymap mode for next key</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-lock</strong></dt>
<dd>
<p>stay in mode until <code>&lt;esc&gt;</code> is pressed</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hooks"><a class="anchor" href="#hooks"></a><a class="link" href="#hooks">5. Hooks</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>hook</strong> [&lt;switches&gt;] &lt;scope&gt; &lt;hook_name&gt; &lt;filtering_regex&gt; &lt;command&gt;</dt>
<dd>
<p>execute <strong>command</strong> whenever a <strong>hook_name</strong> is triggered in <strong>scope</strong>
(See <a href="hooks.html" class="xref page"><code>:doc hooks</code></a> and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-group &lt;groupname&gt;</strong></dt>
<dd>
<p>Add this hook to the <strong>groupname</strong> group, so it can be removed by the
<code>remove-hooks</code> command (below)
or disabled with the <code>disabled_hooks</code> option
(see <a href="options.html#builtin-options" class="xref page"><code>:doc options builtin-options</code></a>).</p>
</dd>
<dt class="hdlist1"><strong>-once</strong></dt>
<dd>
<p>This hook will be automatically removed after it has been executed.</p>
</dd>
<dt class="hdlist1"><strong>-always</strong></dt>
<dd>
<p>This hook will run even while hooks are disabled.
See <a href="hooks.html#disabling-hooks" class="xref page"><code>:doc hooks disabling-hooks</code></a>.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>remove-hooks</strong> &lt;scope&gt; &lt;group&gt;</dt>
<dd>
<p><strong>alias</strong> rmhooks<br>
remove every hook in <strong>scope</strong> whose group matches the regex <strong>group</strong>
(See <a href="hooks.html" class="xref page"><code>:doc hooks</code></a> and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>trigger-user-hook</strong> &lt;param&gt;</dt>
<dd>
<p>trigger the <code>User</code> hook with the given <strong>param</strong> as filter string in
the current context. (See <a href="hooks.html" class="xref page"><code>:doc hooks</code></a>)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="display"><a class="anchor" href="#display"></a><a class="link" href="#display">6. Display</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>echo</strong> [&lt;switches&gt;] &lt;text&gt;</dt>
<dd>
<p>show <strong>text</strong> in status line, with the following <strong>switches</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-markup</strong></dt>
<dd>
<p>expand the markup strings in <strong>text</strong> (See
<a href="faces.html#markup-strings" class="xref page"><code>:doc faces markup-strings</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>-debug</strong></dt>
<dd>
<p>print the given text to the <strong>\*debug</strong>* buffer</p>
</dd>
<dt class="hdlist1"><strong>-to-file</strong> &lt;filename&gt;</dt>
<dd>
<p>write the given text to the given file on the host
filesystem.</p>
</dd>
<dt class="hdlist1"><strong>-to-shell-script</strong> &lt;script&gt;</dt>
<dd>
<p>execute the given shell script with the given text
written to its standard input</p>
</dd>
<dt class="hdlist1"><strong>-quoting</strong> &lt;quoting&gt;</dt>
<dd>
<p>define how arguments are quoted in echo output:</p>
<div class="ulist">
<ul>
<li>
<p><strong>raw</strong> (default)::::
just join each argument with a space</p>
</li>
<li>
<p><strong>kakoune</strong>::::
also wrap each argument in single quotes, doubling-up
embedded quotes.</p>
</li>
<li>
<p><strong>shell</strong>::::
also wrap each arguments in single quotes and escape
embedded quotes in a shell compatible way.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>set-face</strong> &lt;scope&gt; &lt;name&gt; &lt;facespec&gt;</dt>
<dd>
<p><strong>alias</strong> face<br>
define a face in <strong>scope</strong>
(See <a href="faces.html" class="xref page"><code>:doc faces</code></a> and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>unset-face</strong> &lt;scope&gt; &lt;name&gt;</dt>
<dd>
<p>Remove a face definition from <strong>scope</strong>
(See <a href="faces.html" class="xref page"><code>:doc faces</code></a> and <a href="scopes.html" class="xref page"><code>:doc scopes</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>colorscheme</strong> &lt;name&gt;</dt>
<dd>
<p>load named colorscheme</p>
</dd>
<dt class="hdlist1"><strong>add-highlighter</strong> [&lt;switches&gt;] &lt;highlighter_path&gt; &lt;highlighter_parameters&gt; &#8230;&#8203;</dt>
<dd>
<p><strong>alias</strong> addhl<br>
add a highlighter to the current window
(See <a href="highlighters.html" class="xref page"><code>:doc highlighters</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>remove-highlighter</strong> &lt;highlighter_path&gt;</dt>
<dd>
<p><strong>alias</strong> rmhl<br>
remove the highlighter whose id is <strong>highlighter_id</strong>
(See <a href="highlighters.html" class="xref page"><code>:doc highlighters</code></a>)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="helpers"><a class="anchor" href="#helpers"></a><a class="link" href="#helpers">7. Helpers</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kakoune provides some helper commands that can be used to define composite
commands in scripts. They are also available in the interactive mode,
but not really useful in that context.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>prompt</strong> [&lt;switches&gt;] &lt;prompt&gt; &lt;command&gt;</dt>
<dd>
<p>prompt the user for a string, when the user validates, executes the
command. The entered text is available in the <code>text</code> value accessible
through <code>$kak_text</code> in shells or <code>%val{text}</code> in commands.</p>
<div class="literalblock">
<div class="content">
<pre>The *-init &lt;str&gt;* switch allows setting initial content, the
*-password* switch hides the entered text and clears the register
after command execution.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The *-on-change* and *-on-abort* switches, followed by a command
will have this command executed whenever the prompt content changes
or the prompt is aborted, respectively.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Completion support can be controlled with the same switches provided
by the *define-command* command, see
&lt;&lt;declaring-new-commands,Declaring new commands&gt;&gt;.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>For *-shell-script-completion* and *-shell-script-candidates*
completions, token_to_complete will always be 1, and the full
prompt content will be passed as a single token. In other words,
word splitting does not take place.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: The prompt is displayed in and receives input from the
current client context, so inside a draft context like
`evaluate-commands -draft`, it is invisible and only responds to
an `execute-keys` command in the same context.</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>on-key</strong> &lt;command&gt;</dt>
<dd>
<p>wait for next key from user, then execute &lt;command&gt;, the key is
available through the <code>key</code> value, accessible through <code>$kak_key</code>
in shells, or <code>%val{key}</code> in commands.</p>
<div class="literalblock">
<div class="content">
<pre>NOTE: The key press must come from the current client context,
so inside a draft context like `evaluate-commands -draft`, it only
responds to an `execute-keys` command in the same context.</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>info</strong> [&lt;switches&gt;] &lt;text&gt;</dt>
<dd>
<p>display text in an information box with the following <strong>switches</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-anchor</strong> &lt;line&gt;.&lt;column&gt;</dt>
<dd>
<p>print the text at the given coordinates</p>
</dd>
<dt class="hdlist1"><strong>-style</strong> &lt;style&gt;</dt>
<dd>
<p>set the style and placement of the message box.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>menu</strong></dt>
<dd>
<p>display the info next to the displayed menu, as documentation
for the currently selected entry.</p>
</dd>
<dt class="hdlist1"><strong>above</strong></dt>
<dd>
<p>display the info above the given anchor</p>
</dd>
<dt class="hdlist1"><strong>below</strong></dt>
<dd>
<p>display the info below the given anchor</p>
</dd>
<dt class="hdlist1"><strong>modal</strong></dt>
<dd>
<p>display the info modally, and do not auto-close the
info or replace it with non modal info boxes. To hide
a modal info box, use <code>info -style modal</code> with no
arguments.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>-title</strong> &lt;text&gt;</dt>
<dd>
<p>set the title of the message box</p>
</dd>
<dt class="hdlist1"><strong>-markup</strong></dt>
<dd>
<p>parse markup in both title (if provided) and text. (See
<a href="faces.html#markup-strings" class="xref page"><code>:doc faces markup-strings</code></a>)</p>
<div class="literalblock">
<div class="content">
<pre>NOTE: The info box is displayed in the current client context,
so inside a draft context like `eval -draft`, it is invisible.</pre>
</div>
</div>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>try</strong> &lt;commands&gt; [catch &lt;on_error_commands&gt;]&#8230;&#8203;</dt>
<dd>
<p>prevent an error in <strong>commands</strong> from aborting the whole command
execution, execute <strong>on_error_commands</strong> instead. If nothing is to be
done on error, the catch part can be omitted. If an error is raised
in the <strong>on_error_commands</strong>, that error is propagated, except if
another <strong>catch</strong> and <strong>on_error_commands</strong> parameter follows, in which
case those commands get executed, and so-on. During error commands,
the description of the last raised error is available as <code>$kak_error</code>
in the shell, or <code>%val{error}</code> in commands.</p>
</dd>
<dt class="hdlist1"><strong>nop</strong></dt>
<dd>
<p>does nothing, but arguments will be evaluated (e.g. shell expansion)</p>
</dd>
<dt class="hdlist1"><strong>fail</strong> &lt;text&gt;</dt>
<dd>
<p>raise an error, uses &lt;text&gt; as its description</p>
</dd>
<dt class="hdlist1"><strong>set-register</strong> &lt;name&gt; &lt;contents&gt;&#8230;&#8203;</dt>
<dd>
<p><strong>alias</strong> reg<br>
set register <strong>name</strong> to <strong>content</strong>, each content parameter is assigned to
a different string in the register. (See <a href="registers.html" class="xref page"><code>:doc registers</code></a>)</p>
</dd>
<dt class="hdlist1"><strong>select</strong> [&lt;switches&gt;] &lt;anchor_line&gt;.&lt;anchor_column&gt;,&lt;cursor_line&gt;.&lt;cursor_column&gt;&#8230;&#8203;</dt>
<dd>
<p>replace the current selections with the ones described in the arguments</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-timestamp</strong> &lt;timestamp&gt;</dt>
<dd>
<p>specify which buffer timestamp those coordinates apply to. Uses current
buffer timestamp if not specified.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>-codepoint</strong></dt>
<dd>
<p>provided columns are to be interpreted as codepoint counts, not byte counts.</p>
</dd>
<dt class="hdlist1"><strong>-display-column</strong></dt>
<dd>
<p>provided columns are to be interpreted as display column counts, not byte counts.</p>
<div class="literalblock">
<div class="content">
<pre>both *-codepoint* and *-display-column* are only valid if *-timestamp*
matches the current buffer timestamp (or is not specified).</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>debug</strong> {info,buffers,options,memory,shared-strings,profile-hash-maps,faces,mappings}</dt>
<dd>
<p>print some debug information in the <strong>\*debug</strong>* buffer</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-commands"><a class="anchor" href="#module-commands"></a><a class="link" href="#module-commands">8. Module commands</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Kakoune, modules are a grouping of stored commands to be executed the first time
they are needed. This allows complex configurations to be evaluated lazily, and allows
plugins to ensure their dependencies have been loaded before they execute. The builtin
filetype handling for Kakoune is implemented via modules.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>provide-module</strong> [&lt;switches&gt;] &lt;name&gt; &lt;commands&gt;</dt>
<dd>
<p>declares a module <strong>name</strong> that is defined by <strong>commands</strong>. <strong>commands</strong> will be
evaluated as if by source the first time <strong>require-module &lt;name&gt;</strong> is run.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-override</strong></dt>
<dd>
<p>allow the module to replace an existing one with the same name. Fails if
the module has already been evaluated.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>require-module</strong> &lt;name&gt;</dt>
<dd>
<p>guarantees the commands associated with <strong>name</strong> have been evaluated before
continuing command execution. Fails if <strong>name</strong> has not been defined by a
<strong>provide-module</strong> command. Does nothing if the associated commands have
already been evaluated.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-commands"><a class="anchor" href="#multiple-commands"></a><a class="link" href="#multiple-commands">9. Multiple commands</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Commands (c.f. previous sections) can be chained, by being separated either
by new lines or by semicolons, as such a semicolon must be escaped with a
backslash (\;) to be considered as a literal semicolon argument.</p>
</div>
<div class="paragraph">
<p>To avoid trouble while writing <code>map</code> or <code>execute-keys</code> commands in scripts,
the alternative key namings <code>&lt;semicolon&gt;</code> and <code>&lt;a-semicolon&gt;</code> can be used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="declaring-new-commands"><a class="anchor" href="#declaring-new-commands"></a><a class="link" href="#declaring-new-commands">10. Declaring new commands</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>New commands can be defined using the <strong>define-command</strong> command:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>define-command</strong> [&lt;switches&gt;] &lt;command_name&gt; &lt;commands&gt;</dt>
<dd>
<p><strong>commands</strong> is a string containing the commands to execute, and <strong>switches</strong>
can be any combination of the following parameters:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-params</strong> &lt;num&gt;</dt>
<dd>
<p>the command accepts a <strong>num</strong> parameter, which can be either a number,
or of the form &lt;min&gt;..&lt;max&gt;, with both &lt;min&gt; and &lt;max&gt; omittable</p>
</dd>
<dt class="hdlist1"><strong>-override</strong></dt>
<dd>
<p>allow the new command to replace an existing one with the same name</p>
</dd>
<dt class="hdlist1"><strong>-hidden</strong></dt>
<dd>
<p>do not show the command in command name completions</p>
</dd>
<dt class="hdlist1"><strong>-docstring</strong></dt>
<dd>
<p>define the documentation string for the command</p>
</dd>
<dt class="hdlist1"><strong>-menu</strong></dt>
<dt class="hdlist1"><strong>-file-completion</strong></dt>
<dt class="hdlist1"><strong>-client-completion</strong></dt>
<dt class="hdlist1"><strong>-buffer-completion</strong></dt>
<dt class="hdlist1"><strong>-command-completion</strong></dt>
<dt class="hdlist1"><strong>-shell-completion</strong></dt>
<dt class="hdlist1"><strong>-shell-script-completion</strong></dt>
<dt class="hdlist1"><strong>-shell-script-candidates</strong></dt>
<dd>
<p>old-style command completion specification, function as-if
the switch and its eventual parameter was passed to the
<strong>complete-command</strong> command
(See <a href="#configuring-command-completion">Configuring command completion</a>)</p>
<div class="literalblock">
<div class="content">
<pre>The use of those switches is discouraged in favor of the
*complete-command* command.</pre>
</div>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Using shell expansion allows defining complex commands or accessing
Kakoune&#8217;s state:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># create a directory for current buffer if it does not exist
define-command mkdir %{ nop %sh{ mkdir -p $(dirname $kak_buffile) } }</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-command-completion"><a class="anchor" href="#configuring-command-completion"></a><a class="link" href="#configuring-command-completion">11. Configuring command completion</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Command completion can be configured with the <strong>complete-command</strong> command:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>complete-command</strong> [&lt;switches&gt;] &lt;command_name&gt; &lt;completion_type&gt; [&lt;parameter&gt;]</dt>
<dd>
<p><strong>switches</strong> can be:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-menu</strong></dt>
<dd>
<p>the suggestions generated by the completion options are the only
permitted parameters. Kakoune will autoselect the best completion
candidate on command validation.</p>
<div class="literalblock">
<div class="content">
<pre>*completion_type* can be:</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><strong>file</strong></dt>
<dd>
<p>try file completion on any parameter passed to the command</p>
</dd>
<dt class="hdlist1"><strong>client</strong></dt>
<dd>
<p>try client name completion on any parameter passed to the command</p>
</dd>
<dt class="hdlist1"><strong>buffer</strong></dt>
<dd>
<p>try buffer name completion on any parameter passed to the command</p>
</dd>
<dt class="hdlist1"><strong>command</strong></dt>
<dd>
<p>try command completion on any parameter passed to the command</p>
</dd>
<dt class="hdlist1"><strong>shell</strong></dt>
<dd>
<p>try shell command completion on any parameter passed to the command</p>
</dd>
<dt class="hdlist1"><strong>shell-script</strong></dt>
<dd>
<p>following string is a shell command which takes parameters as
positional params and outputs one completion candidate per line.
The provided shell command will run after each keypress.
During the execution of the shell command, the following env vars are
available:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>$kak_token_to_complete</strong></dt>
<dd>
<p>Index of the token being completed in the command line.
Note that unlike the Unix <code>argv</code> tradition,
0 is the first argument, not the command name itself.</p>
</dd>
<dt class="hdlist1"><strong>$kak_pos_in_token</strong></dt>
<dd>
<p>Position of the cursor inside the token being completed, in bytes
from token start.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><strong>shell-script-candidates</strong></dt>
<dd>
<p>following string is a shell script which takes parameters as
positional params and outputs one completion candidate per line.
The provided shell script will run once at the beginning of each
completion session, candidates are cached and then used by kakoune
internal fuzzy engine.</p>
<div class="literalblock">
<div class="content">
<pre>During the execution of the shell script, the following env vars are
available:</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>$kak_token_to_complete</strong></dt>
<dd>
<p>Index of the token being completed in the command line.
Note that unlike the Unix <code>argv</code> tradition,
0 is the first argument, not the command name itself.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aliases"><a class="anchor" href="#aliases"></a><a class="link" href="#aliases">12. Aliases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>With <code>:alias</code>, commands can be given additional names.
As aliases are intended to be used interactively most of the time,
they are often short. For example <code>:reg</code> is an alias for <code>:set-register</code>.</p>
</div>
<div class="paragraph">
<p>They are scoped, so that an alias can refer to one command for a buffer,
and to another for another buffer. For instance <code>:next</code> could be an alias
for <code>grep-next-match</code> in a <code><strong>grep</strong></code> buffer while pointing to
<code>:make-next-error</code> in a <code><strong>make</strong></code> buffer.</p>
</div>
<div class="paragraph">
<p>The following command defines <code>&lt;alias&gt;</code> as an alias for <code>&lt;command&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:alias &lt;scope&gt; &lt;alias&gt; &lt;command&gt;</pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;scope&gt;</code> can be one of <code>global</code>, <code>buffer</code> or <code>window</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:unalias &lt;scope&gt; &lt;alias&gt; [&lt;expected&gt;]</pre>
</div>
</div>
<div class="paragraph">
<p>Will remove the given alias in the given scope. If <code>&lt;expected&gt;</code> is specified
the alias will only be removed if its current value is <code>&lt;expected&gt;</code>.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
